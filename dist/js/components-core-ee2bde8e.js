import{j as e,G as s,C as t,H as a,M as i,B as o,D as n,a as r,b as l,U as c,L as d,c as m,F as h,S as u,d as p,e as g,P as x,T as y,E as f,f as j,g as b,A as v,Z as w,h as A,i as P}from"./vendor-ui-000c090a.js";import{r as N,R as S}from"./vendor-react-7b33ae66.js";import{B as k,C,a as M,b as E,c as D}from"./components-ui-8500bbbb.js";import{_ as F}from"./utils-pdf-96b695a8.js";const T={he:{loading:"טוען...",error:"שגיאה",success:"הצלחה",cancel:"ביטול",save:"שמור",delete:"מחק",edit:"ערוך",close:"סגור",back:"חזור",next:"הבא",previous:"קודם",submit:"שלח",reset:"אפס",export:"ייצא",import:"ייבא",dashboard:"לוח בקרה",vocalAnalysis:"ניתוח ערוץ שירה",sketches:"יצירת סקיצות",sessions:"ניהול סשנים",recommendations:"המלצות ייצור",exportVersions:"יצוא גרסאות",credits:"קרדיטים וחוזים",verification:"אימות משתמש",vocalAnalysisTitle:"ניתוח ערוץ שירה",vocalAnalysisSubtitle:"נתח ערוץ שירה עם בינה מלאכותית וקבל המלצות מקצועיות למיקס",uploadAudioFile:"העלה קובץ אודיו",dragDropFile:"גרור קובץ לכאן או לחץ לבחירה",selectFile:"בחר קובץ",fileSelected:"קובץ נבחר",fileSize:"גודל",startAnalysis:"התחל ניתוח AI",analyzing:"מנתח קובץ...",analysisComplete:"ניתוח הושלם בהצלחה!",vocalRangeAnalysis:"ניתוח טווח קולי",lowestNote:"הטון הנמוך ביותר",highestNote:"הטון הגבוה ביותר",vocalRange:"טווח קולי",accuracyLevel:"רמת דיוק",songKey:"סולם השיר",keyAccuracy:"דיוק זיהוי הסולם",vocalType:"סוג קול",comfortableRange:"טווח נוח",suggestedKeys:"סולמות מומלצים",pitchAnalysis:"ניתוח פיץ' ודינמיקה",pitchAccuracy:"דיוק פיץ'",stability:"יציבות",identifiedIssues:"בעיות שזוהו",noSignificantIssues:"אין בעיות משמעותיות",technicalAnalysis:"ניתוח טכני מתקדם",breathControl:"שליטת נשימה",articulation:"הגייה",timing:"תזמון",dynamics:"דינמיקה",technicalMetrics:"מדדים טכניים",vocalProfile:"פרופיל קולי",emotionAnalysis:"ניתוח רגשי",primaryEmotion:"רגש ראשי",secondaryEmotion:"רגש משני",emotionalIntensity:"עוצמה רגשית",mixRecommendations:"המלצות מיקס מקצועיות",highPriority:"גבוה",mediumPriority:"בינוני",lowPriority:"נמוך",recommendedPlugins:"פלאגינים מומלצים",recommendedSettings:"הגדרות מומלצות",aiInsights:"תובנות AI",exportPDF:"ייצא PDF",helpSystemLearn:"עזור למערכת ללמוד",feedbackDescription:"המשוב שלך עוזר למערכת לשפר את הניתוחים הבאים",analysisAccuracy:"דיוק הניתוח",recommendationUsefulness:"שימושיות ההמלצות",additionalNotes:"הערות נוספות לשיפור המערכת...",submitFeedback:"שלח משוב",learningStats:"סטטיסטיקות למידה AI",totalAnalyses:"ניתוחים שבוצעו",modelVersion:"גרסת מודל",vocalTypesAnalyzed:"סוגי קול נותחו",averageAccuracy:"דיוק ממוצע",systemLearning:"המערכת לומדת ומשפרת את עצמה עם כל ניתוח!",resetData:"אפס נתונים",initialValue:"(ערך התחלתי)",fileTooLarge:"הקובץ גדול מדי. אנא בחר קובץ קטן מ-50MB.",unsupportedFileType:"סוג קובץ לא נתמך. אנא בחר קובץ WAV, MP3 או FLAC.",fileTooLong:"הקובץ ארוך מדי. אנא בחר קובץ קצר מ-10 דקות.",analysisFailed:"לא הצלחנו לנתח את הקובץ. אנא נסה קובץ אחר.",browserNotSupported:"הדפדפן שלך לא תומך בניתוח אודיו. אנא נסה דפדפן אחר.",fileCorrupted:"הקובץ פגום או לא תקין. אנא נסה קובץ אחר.",pdfExportError:"שגיאה בייצוא PDF. נסה שוב.",feedbackRequired:"אנא דרג את הניתוח לפני שליחת המשוב",feedbackSubmitted:"תודה על המשוב! המערכת תשתמש במידע זה כדי לשפר את הניתוחים הבאים.",resetConfirmation:"האם אתה בטוח שברצונך לאפס את נתוני הלמידה? פעולה זו תמחק את כל ההיסטוריה.",vocalRangeDescription:"ניתוח זה מזהה את הטווח הקולי המדויק של הזמר, כולל הסולם המוזיקלי של השיר.",pitchAnalysisDescription:"ניתוח זה בודק את הדיוק של הזמר ביחס לצלילים המוזיקליים הנכונים.",technicalAnalysisDescription:"ניתוח זה בודק את הטכניקה הקולית של הזמר.",emotionAnalysisDescription:"ניתוח זה מזהה את הרגשות והטון הרגשי של הביצוע הקולי.",mixRecommendationsDescription:"המלצות אלה מבוססות על ניתוח מעמיק של הקול ומטרתן להביא את ערוץ השירה לרמה המקצועית הגבוהה ביותר.",systemRequirements:"דרישות מערכת",maxFileSize:"גודל קובץ: עד 50MB",maxDuration:"אורך קובץ: עד 10 דקות",supportedFormats:"פורמטים: WAV, MP3, FLAC",supportedBrowsers:"דפדפן: Chrome, Firefox, Safari",howToUse:"איך להשתמש:",step1:"1. העלה קובץ אודיו (WAV, MP3, FLAC)",step2:'2. לחץ על "התחל ניתוח AI"',step3:"3. המתן לסיום הניתוח (2-3 דקות)",step4:"4. קבל המלצות מותאמות אישית",step5:'5. עבור ל"המלצות ייצור" לקבלת פלאגינים',advancedAnalysis:"ניתוח מתקדם",advancedAnalysisDescription:"המערכת מבצעת ניתוח אמיתי של הקובץ באמצעות Web Audio API.",aiLearningSystem:"מערכת AI שלומדת",aiLearningDescription:"המערכת לומדת מכל ניתוח ומשפרת את עצמה.",listenToFile:"האזן לקובץ",play:"נגן",pause:"השהה",vocalAnalysisReport:"דוח ניתוח ערוץ שירה",fileName:"שם קובץ",analysisDate:"תאריך ניתוח",unknown:"לא ידוע",passion:"תשוקה",intensity:"עוצמה",joy:"שמחה",gentleness:"עדינות",sadness:"עצב",anger:"כעס",tenor:"טנור",bass:"בס",baritone:"בריטון",alto:"אלט",soprano:"סופרן",highPitchInstability:"חוסר יציבות בפיץ' גבוה",unevenVibrato:"ויברטו לא אחיד",sharpVolumeChanges:"שינויים חדים בעוצמה",insufficientData:"אין מספיק נתונים לניתוח מדויק",exportVersionsTitle:"אפשרויות ייצוא",exportVersionsSubtitle:"בחר את סוג הייצוא המתאים לפרויקט שלך",instrumental:"אינסטרומנטל",instrumentalDesc:"גרסה ללא קול לשימוש ברדיו או רקע",acapella:"אקפלה",acapellaDesc:"קול בלבד ללא מוזיקה",radio:"רדיו",radioDesc:"גרסה מותאמת לרדיו עם קומפרסיה",stems:"STEMS",stemsDesc:"קבצים נפרדים לכל ערוץ",export:"ייצא",exportInfo:"מידע על ייצוא",supportedFormatsExport:"פורמטים נתמכים: WAV, MP3, FLAC",qualityOptions:"אפשרויות איכות: 44.1kHz, 48kHz, 96kHz",dashboard:"לוח בקרה",vocalAnalysis:"ניתוח ערוץ שירה",sketches:"יצירת סקיצות",sessions:"ניהול סשנים",productionRecommendations:"המלצות הפקה",exportVersions:"יצוא גרסאות",creditsContracts:"קרדיטים וחוזים",userVerification:"אימות משתמש",aiProductionSystem:"מערכת AI להפקה ומיקס",productionTools:"כלי הפקה",quickStats:"סטטיסטיקות מהירות",activeProjects:"פרויקטים פעילים",weeklyAnalyses:"ניתוחים השבוע",sketchesCreated:"סקיצות שנוצרו",premiumActive:"פרימיום פעיל",freeTier:"חינמי - 1/1 פרויקט",basicTier:"בסיסי - 2/3 פרויקטים",expiryDate:"תוקף",activeSessions:"סשנים פעילים",sessionManagement:"ניהול סשנים",sessionManagementDescription:"עקוב אחר סשנים, קבצים ופידבקים",mySessions:"הסשנים שלי",creditsManagement:"ניהול קרדיטים",sessionModuleBuilding:"מודול ניהול סשנים בבנייה.",sessionManagementFeatures:"כאן תוכל לנהל את כל הסשנים שלך, להזמין משתתפים ולשתף קבצים.",quickSketchCreation:"יצירת סקיצות מהירה",sketchCreationDescription:"הפוך רעיון לסקיצה מוזיקלית בכמה לחיצות",createNewSketch:"יצירת סקיצה חדשה",selectProject:"בחר פרויקט",selectProjectPlaceholder:"...בחר פרויקט",project1:"פרויקט 1",project2:"פרויקט 2",project3:"פרויקט 3",createNewProject:"צור פרויקט חדש",lyricsOrGeneralIdea:"מילים או רעיון כללי",lyricsPlaceholder:"הכנס את המילים, הרעיון הכללי, או התיאור של השיר...",musicalStyle:"סגנון מוזיקלי",musicalStylePlaceholder:"...לדוגמה: פופ קצבי, בלדת רוק, היפ הופ",createSketchWithAI:"צור סקיצה עם AI",recentSketches:"סקיצות אחרונות",noSketchesToShow:"אין סקיצות להצגה",aiSettings:"הגדרות AI",highQuality:"איכות גבוהה",automaticHarmonies:"הרמוניות אוטומטיות",creditsAndContracts:"קרדיטים וחוזים",creditsAndContractsDescription:"נהל זכויות יוצרים, קרדיטים וחוזים בצורה אוטומטית",creditsModuleBuilding:"מודול קרדיטים וחוזים בבנייה.",creditsManagementFeatures:"כאן תוכל לנהל את חלוקת הזכויות וליצור חוזים דיגיטליים.",subscriptionExpired:"המנוי פג תוקף",subscriptionExpiredMessage:"יש לחדש את המנוי כדי להמשיך להשתמש בשירות",renewSubscription:"חדש מנוי",subscriptionExpiringSoon:"המנוי עומד לפוג",renewNow:"חדש עכשיו",paymentFailed:"תשלום נכשל",paymentFailedMessage:"התשלום האחרון נכשל. יש לבדוק את אמצעי התשלום",updatePayment:"עדכן תשלום",projectLimitReached:"הגעת למגבלת הפרויקטים",projectLimitReachedMessage:"השתמשת בכל הפרויקטים הזמינים במנוי שלך. שדרג למנוי גבוה יותר להמשך שימוש",upgradeNow:"שדרג עכשיו",subscriptionActive:"המנוי פעיל",subscriptionActiveMessage:"כל התכונות זמינות לשימוש",securePayment:"תשלום מאובטח",creditCard:"כרטיס אשראי",creditCardDescription:"Visa, Mastercard, American Express",paypal:"PayPal",paypalDescription:"תשלום מהיר ובטוח",applePay:"Apple Pay",applePayDescription:"תשלום מהיר עם Apple Pay",googlePay:"Google Pay",googlePayDescription:"תשלום מהיר עם Google Pay",cardNumber:"מספר כרטיס",cardNumberPlaceholder:"1234 5678 9012 3456",expiryDate:"תאריך תפוגה",expiryPlaceholder:"MM/YY",cvv:"CVV",cvvPlaceholder:"123",cardholderName:"שם בעל הכרטיס",namePlaceholder:"שם מלא",payNow:"שלם עכשיו",processing:"מעבד...",paymentSecure:"התשלום מאובטח ומצפין",poweredByStripe:"מופעל על ידי Stripe",mainDashboard:"לוח בקרה ראשי",welcomeMessage:"ברוך הבא למערכת",quickActions:"פעולות מהירות",recentProjects:"פרויקטים אחרונים",showAll:"הצג הכל",lastActivity:"פעילות אחרונה",noActivity:"אין פעילות",popSongExample:"שיר פופ לדוגמה",singerExample:"זמר לדוגמה",mix:"מיקס",pop:"פופ",emotionalBallad:"בלדה רגשית",singerFemaleExample:"זמרת לדוגמה",recording:"הקלטה",folk:"פולק",newProject:"פרויקט חדש",quickActionVocalAnalysisSubtitle:"בצע ניתוח שירה מהיר",quickActionCreateSketchSubtitle:"צור סקיצה חדשה במהירות",quickActionNewSessionSubtitle:"התחל סשן חדש",quickActionProductionRecommendationsSubtitle:"קבל המלצות הפקה"},en:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",close:"Close",back:"Back",next:"Next",previous:"Previous",submit:"Submit",reset:"Reset",export:"Export",import:"Import",dashboard:"Dashboard",vocalAnalysis:"Vocal Analysis",sketches:"Sketch Creation",sessions:"Session Management",productionRecommendations:"Production Recommendations",exportVersions:"Export Versions",creditsContracts:"Credits & Contracts",userVerification:"User Verification",aiProductionSystem:"AI Production & Mixing System",productionTools:"Production Tools",quickStats:"Quick Statistics",activeProjects:"Active Projects",weeklyAnalyses:"Weekly Analyses",sketchesCreated:"Sketches Created",premiumActive:"Premium Active",freeTier:"Free - 1/1 Project",basicTier:"Basic - 2/3 Projects",expiryDate:"Expiry",activeSessions:"Active Sessions",sessionManagement:"Session Management",sessionManagementDescription:"Track sessions, files and feedback",mySessions:"My Sessions",creditsManagement:"Credits Management",sessionModuleBuilding:"Session management module under construction.",sessionManagementFeatures:"Here you can manage all your sessions, invite participants and share files.",quickSketchCreation:"Quick Sketch Creation",sketchCreationDescription:"Turn an idea into a musical sketch in a few clicks",createNewSketch:"Create New Sketch",selectProject:"Select Project",selectProjectPlaceholder:"...select project",project1:"Project 1",project2:"Project 2",project3:"Project 3",createNewProject:"Create New Project",lyricsOrGeneralIdea:"Lyrics or General Idea",lyricsPlaceholder:"Enter the lyrics, general idea, or description of the song...",musicalStyle:"Musical Style",musicalStylePlaceholder:"...for example: upbeat pop, rock ballad, hip hop",createSketchWithAI:"Create Sketch with AI",recentSketches:"Recent Sketches",noSketchesToShow:"No sketches to show",aiSettings:"AI Settings",highQuality:"High Quality",automaticHarmonies:"Automatic Harmonies",creditsAndContracts:"Credits & Contracts",creditsAndContractsDescription:"Manage copyrights, credits and contracts automatically",creditsModuleBuilding:"Credits and contracts module under construction.",creditsManagementFeatures:"Here you can manage rights distribution and create digital contracts.",subscriptionExpired:"Subscription Expired",subscriptionExpiredMessage:"Please renew your subscription to continue using the service",renewSubscription:"Renew Subscription",subscriptionExpiringSoon:"Subscription Expiring Soon",renewNow:"Renew Now",paymentFailed:"Payment Failed",paymentFailedMessage:"The last payment failed. Please check your payment method",updatePayment:"Update Payment",projectLimitReached:"Project Limit Reached",projectLimitReachedMessage:"You have used all available projects in your subscription. Upgrade to a higher plan to continue",upgradeNow:"Upgrade Now",subscriptionActive:"Subscription Active",subscriptionActiveMessage:"All features are available for use",securePayment:"Secure Payment",creditCard:"Credit Card",creditCardDescription:"Visa, Mastercard, American Express",paypal:"PayPal",paypalDescription:"Fast and secure payment",applePay:"Apple Pay",applePayDescription:"Fast payment with Apple Pay",googlePay:"Google Pay",googlePayDescription:"Fast payment with Google Pay",cardNumber:"Card Number",cardNumberPlaceholder:"1234 5678 9012 3456",expiryDate:"Expiry Date",expiryPlaceholder:"MM/YY",cvv:"CVV",cvvPlaceholder:"123",cardholderName:"Cardholder Name",namePlaceholder:"Full Name",payNow:"Pay Now",processing:"Processing...",paymentSecure:"Payment is secure and encrypted",poweredByStripe:"Powered by Stripe",vocalAnalysisTitle:"Vocal Channel Analysis",vocalAnalysisSubtitle:"Analyze vocal channel with AI and get professional mixing recommendations",uploadAudioFile:"Upload Audio File",dragDropFile:"Drag file here or click to select",selectFile:"Select File",fileSelected:"File Selected",fileSize:"Size",startAnalysis:"Start AI Analysis",analyzing:"Analyzing file...",analysisComplete:"Analysis completed successfully!",vocalRangeAnalysis:"Vocal Range Analysis",lowestNote:"Lowest Note",highestNote:"Highest Note",vocalRange:"Vocal Range",accuracyLevel:"Accuracy Level",songKey:"Song Key",keyAccuracy:"Key Detection Accuracy",vocalType:"Vocal Type",comfortableRange:"Comfortable Range",suggestedKeys:"Suggested Keys",pitchAnalysis:"Pitch and Dynamics Analysis",pitchAccuracy:"Pitch Accuracy",stability:"Stability",identifiedIssues:"Identified Issues",noSignificantIssues:"No significant issues",technicalAnalysis:"Advanced Technical Analysis",breathControl:"Breath Control",articulation:"Articulation",timing:"Timing",dynamics:"Dynamics",technicalMetrics:"Technical Metrics",vocalProfile:"Vocal Profile",emotionAnalysis:"Emotion Analysis",primaryEmotion:"Primary Emotion",secondaryEmotion:"Secondary Emotion",emotionalIntensity:"Emotional Intensity",mixRecommendations:"Professional Mix Recommendations",highPriority:"High",mediumPriority:"Medium",lowPriority:"Low",recommendedPlugins:"Recommended Plugins",recommendedSettings:"Recommended Settings",aiInsights:"AI Insights",exportPDF:"Export PDF",helpSystemLearn:"Help System Learn",feedbackDescription:"Your feedback helps the system improve future analyses. Tell us how accurate the analysis was and how useful the recommendations were.",analysisAccuracy:"Analysis Accuracy",recommendationUsefulness:"Recommendations Usefulness",additionalNotes:"Additional comments for system improvement...",submitFeedback:"Submit Feedback",learningStats:"AI Learning Statistics",totalAnalyses:"Total Analyses",modelVersion:"Model Version",vocalTypesAnalyzed:"Vocal Types Analyzed",averageAccuracy:"Average Accuracy",systemLearning:"The system learns and improves with every analysis!",resetData:"Reset Data",initialValue:"(Initial Value)",fileTooLarge:"File is too large. Please select a file smaller than 50MB.",unsupportedFileType:"Unsupported file type. Please select WAV, MP3, or FLAC file.",fileTooLong:"File is too long. Please select a file shorter than 10 minutes.",analysisFailed:"We couldn't analyze the file. Please try another file.",browserNotSupported:"Your browser doesn't support audio analysis. Please try another browser.",fileCorrupted:"File is corrupted or invalid. Please try another file.",pdfExportError:"Error exporting PDF. Try again.",feedbackRequired:"Please rate the analysis before submitting feedback",feedbackSubmitted:"Thank you for your feedback! The system will use this information to improve future analyses.",resetConfirmation:"Are you sure you want to reset the learning data? This action will delete all history.",vocalRangeDescription:"This analysis identifies the exact vocal range of the singer, including the musical key of the song.",pitchAnalysisDescription:"This analysis checks the singer's accuracy in relation to the correct musical notes.",technicalAnalysisDescription:"This analysis checks the singer's vocal technique.",emotionAnalysisDescription:"This analysis identifies the emotions and emotional tone of the vocal performance.",mixRecommendationsDescription:"These recommendations are based on deep analysis of the voice and aim to bring the vocal channel to the highest professional level.",systemRequirements:"System Requirements",maxFileSize:"File size: Up to 50MB",maxDuration:"Duration: Up to 10 minutes",supportedFormats:"Formats: WAV, MP3, FLAC",supportedBrowsers:"Browser: Chrome, Firefox, Safari",howToUse:"How to Use:",step1:"1. Upload an audio file (WAV, MP3, FLAC)",step2:'2. Click "Start AI Analysis"',step3:"3. Wait for analysis completion (2-3 minutes)",step4:"4. Receive personalized recommendations",step5:'5. Go to "Production Recommendations" for plugins',advancedAnalysis:"Advanced Analysis",advancedAnalysisDescription:"The system performs real analysis of the file using Web Audio API.",aiLearningSystem:"AI Learning System",aiLearningDescription:"The system learns from every analysis and improves itself.",listenToFile:"Listen to File",play:"Play",pause:"Pause",vocalAnalysisReport:"Vocal Analysis Report",fileName:"File Name",analysisDate:"Analysis Date",unknown:"Unknown",passion:"Passion",intensity:"Intensity",joy:"Joy",gentleness:"Gentleness",sadness:"Sadness",anger:"Anger",tenor:"Tenor",bass:"Bass",baritone:"Baritone",alto:"Alto",soprano:"Soprano",highPitchInstability:"High pitch instability",unevenVibrato:"Uneven vibrato",sharpVolumeChanges:"Sharp volume changes",insufficientData:"Insufficient data for accurate analysis",exportVersionsTitle:"Export Options",exportVersionsSubtitle:"Choose the export type that fits your project",instrumental:"Instrumental",instrumentalDesc:"Version without vocals for radio or background use",acapella:"Acapella",acapellaDesc:"Vocals only without music",radio:"Radio",radioDesc:"Radio-optimized version with compression",stems:"STEMS",autoMLTechnologies:"טכנולוגיות Auto-ML מתקדמות",cnnKeyDetection:"CNN לזיהוי סולמות",cnnDescription:"רשת נוירונים קונבולוציונית לזיהוי דפוסים מתקדם ודיוק גבוה בזיהוי סולמות",madmomAnalysis:"madmom לניתוח מוזיקלי",madmomDescription:"זיהוי ביטים ומקצב, חילוץ מלודיה וניתוח אקורדים מתקדם",autoMLLearning:"Auto-ML למידה עצמית",autoMLDescription:"אופטימיזציה אוטומטית, בחירת מודל חכמה ולמידה מתמשכת",stemsDesc:"Separate files for each channel",export:"Export",exportInfo:"Export Information",supportedFormatsExport:"Supported formats: WAV, MP3, FLAC",qualityOptions:"Quality options: 44.1kHz, 48kHz, 96kHz"}},R=()=>{const{language:e}=N.useContext(B);return s=>{var t;return(null==(t=T[e])?void 0:t[s])||s}},L=()=>{const{language:a,setLanguage:i}=N.useContext(B),o=[{code:"he",name:"עברית",flag:"🇮🇱"},{code:"en",name:"English",flag:"🇺🇸"}],n=o.find(e=>e.code===a);return e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center space-x-2 space-x-reverse bg-studio-gray border border-gray-600 hover:border-studio-primary px-3 py-2 rounded-lg transition-colors",children:[e.jsx(s,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-white text-sm",children:null==n?void 0:n.flag}),e.jsx("span",{className:"text-white text-sm",children:null==n?void 0:n.name}),e.jsx(t,{className:"w-4 h-4 text-gray-400"})]}),e.jsx("div",{className:"absolute top-full right-0 mt-2 bg-studio-gray border border-gray-600 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:o.map(s=>e.jsxs("button",{onClick:()=>i(s.code),className:"flex items-center space-x-2 space-x-reverse w-full px-3 py-2 text-sm transition-colors "+(a===s.code?"bg-studio-primary text-white":"text-gray-300 hover:bg-studio-dark hover:text-white"),children:[e.jsx("span",{children:s.flag}),e.jsx("span",{children:s.name})]},s.code))})]})},_=({activePage:s,onPageChange:t})=>{const{language:g}=N.useContext(B),x=R(),y=[{id:"dashboard",label:x("dashboard"),icon:a},{id:"vocal-analysis",label:x("vocalAnalysis"),icon:i},{id:"advanced-analysis",label:"ניתוח מתקדם עם AI",icon:o},{id:"music-database",label:"בסיס נתוני מוזיקה",icon:n},{id:"cloud-processing",label:"עיבוד בענן עם GPU",icon:r},{id:"sketches",label:x("sketches"),icon:l},{id:"sessions",label:x("sessions"),icon:c},{id:"recommendations",label:x("productionRecommendations"),icon:d},{id:"export",label:x("exportVersions"),icon:m},{id:"credits",label:x("creditsContracts"),icon:h},{id:"verification",label:x("userVerification"),icon:u}],f=[{label:x("activeProjects"),value:"0",color:"text-green-500"},{label:x("weeklyAnalyses"),value:"0",color:"text-orange-500"},{label:x("sketchesCreated"),value:"0",color:"text-blue-500"}];return e.jsxs("div",{className:"w-64 h-screen bg-studio-lightGray flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx("div",{className:"w-8 h-8 bg-black rounded flex items-center justify-center",children:e.jsx(p,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"KR-STUDIO"}),e.jsx("p",{className:"text-xs text-gray-600",children:x("aiProductionSystem")})]})]})}),e.jsxs("div",{className:"flex-1 p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:x("productionTools")}),e.jsx("nav",{className:"space-y-1",children:y.map(a=>{const i=a.icon,o=s===a.id;return e.jsxs("button",{onClick:()=>t(a.id),className:"w-full flex items-center space-x-3 space-x-reverse px-3 py-2 rounded-lg text-sm font-medium transition-colors "+(o?"bg-gradient-to-r from-orange-400 to-yellow-400 text-white":"text-gray-700 hover:bg-gray-100"),children:[e.jsx(i,{className:"w-5 h-5"}),e.jsx("span",{children:a.label})]},a.id)})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:x("quickStats")}),e.jsx("div",{className:"space-y-2",children:f.map((s,t)=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600",children:s.label}),e.jsx("span",{className:`font-semibold ${s.color}`,children:s.value})]},t))})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200",children:[e.jsx("div",{className:"mb-3 flex "+("he"===g?"justify-start":"justify-end"),children:e.jsx(L,{})}),e.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[e.jsx("div",{className:"w-8 h-8 bg-black rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold",children:"R"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-900",children:"roizohar111@gmail.com"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full ml-2"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:x("premiumActive")})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full ml-2"}),e.jsx("span",{className:"text-xs text-gray-500",children:x("freeTier")})]}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full ml-2"}),e.jsx("span",{className:"text-xs text-blue-500",children:x("basicTier")})]}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:[x("expiryDate"),": 31/12/2025"]})})]})]})]})]})},V=({onPageChange:s})=>{const{language:t}=N.useContext(B),a=R(),o=[{title:a("activeProjects"),value:"2",change:"he"===t?"+12% השבוע":"+12% this week",icon:l,color:"bg-blue-500",trend:"up"},{title:a("weeklyAnalyses"),value:"0",change:"he"===t?"+8% חודש זה":"+8% this month",icon:i,color:"bg-green-500",trend:"up"},{title:a("sketchesCreated"),value:"0",change:"he"===t?"+15% השבוע":"+15% this week",icon:m,color:"bg-purple-500",trend:"up"},{title:a("activeSessions"),value:"0",change:"he"===t?"רק עכשיו":"just now",icon:c,color:"bg-orange-500",trend:"up"}],n=[{title:a("popSongExample"),singer:a("singerExample"),date:"27/07/2025",status:a("mix"),statusColor:"bg-purple-500",genre:a("pop")},{title:a("emotionalBallad"),singer:a("singerFemaleExample"),date:"27/07/2025",status:a("recording"),statusColor:"bg-orange-500",genre:a("folk")}],r=[{title:a("vocalAnalysis"),subtitle:a("quickActionVocalAnalysisSubtitle"),icon:i,color:"bg-blue-500",onClick:()=>s("vocal-analysis")},{title:a("createNewSketch"),subtitle:a("quickActionCreateSketchSubtitle"),icon:l,color:"bg-green-500",onClick:()=>s("sketches")},{title:a("newSession"),subtitle:a("quickActionNewSessionSubtitle"),icon:c,color:"bg-purple-500",onClick:()=>s("sessions")},{title:a("productionRecommendations"),subtitle:a("quickActionProductionRecommendationsSubtitle"),icon:d,color:"bg-orange-500",onClick:()=>s("recommendations")}];return e.jsxs("div",{className:"flex-1 bg-studio-dark p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:a("mainDashboard")}),e.jsx("p",{className:"text-gray-400",children:a("welcomeMessage")})]}),e.jsxs("div",{className:"flex space-x-3 space-x-reverse",children:[e.jsxs(k,{variant:"studio",size:"lg",onClick:()=>s("vocal-analysis"),children:[e.jsx(g,{className:"w-5 h-5 ml-2"}),a("vocalAnalysis")]}),e.jsxs(k,{variant:"outline",size:"lg",children:[e.jsx(x,{className:"w-5 h-5 ml-2"}),a("newProject")]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map((s,t)=>{const a=s.icon;return e.jsx(C,{className:"bg-studio-gray border-studio-gray",children:e.jsx(M,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm mb-1",children:s.title}),e.jsx("p",{className:"text-3xl font-bold text-white mb-1",children:s.value}),e.jsxs("div",{className:"flex items-center text-green-500 text-sm",children:[e.jsx(y,{className:"w-4 h-4 ml-1"}),s.change]})]}),e.jsx("div",{className:`w-12 h-12 ${s.color} rounded-lg flex items-center justify-center`,children:e.jsx(a,{className:"w-6 h-6 text-white"})})]})})},t)})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(C,{className:"bg-studio-gray border-studio-gray",children:[e.jsxs(E,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"w-5 h-5 text-white ml-2"}),e.jsx(D,{className:"text-white",children:a("recentProjects")})]}),e.jsxs(k,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[e.jsx(f,{className:"w-4 h-4 ml-1"}),a("showAll")]})]}),e.jsx(M,{children:e.jsx("div",{className:"space-y-4",children:n.map((s,t)=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-studio-dark rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium text-white ${s.statusColor}`,children:s.status}),e.jsxs("span",{className:"text-xs text-gray-400 mr-2",children:["#",s.genre]})]}),e.jsx("h4",{className:"text-white font-medium mb-1",children:s.title}),e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(j,{className:"w-4 h-4 ml-1"}),s.singer,e.jsx(b,{className:"w-4 h-4 mr-4 ml-1"}),s.date]})]})},t))})})]}),e.jsxs(C,{className:"bg-studio-gray border-studio-gray",children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"w-5 h-5 text-white ml-2"}),e.jsx(D,{className:"text-white",children:a("quickActions")})]})}),e.jsx(M,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map((s,t)=>{const a=s.icon;return e.jsxs("button",{onClick:s.onClick,className:"p-4 bg-studio-dark rounded-lg hover:bg-gray-800 transition-colors text-right",children:[e.jsx("div",{className:`w-10 h-10 ${s.color} rounded-lg flex items-center justify-center mb-3`,children:e.jsx(a,{className:"w-5 h-5 text-white"})}),e.jsx("h4",{className:"text-white font-medium mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-gray-400",children:s.subtitle})]},t)})})})]})]}),e.jsxs(C,{className:"bg-studio-gray border-studio-gray mt-6",children:[e.jsx(E,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d,{className:"w-5 h-5 text-white ml-2"}),e.jsx(D,{className:"text-white",children:a("lastActivity")})]})}),e.jsx(M,{children:e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400",children:a("noActivity")})})})]})]})};const I=new class{constructor(){this.loadedModules=new Map,this.loadingPromises=new Map}async loadEssentia(){if(this.loadedModules.has("essentia"))return this.loadedModules.get("essentia");if(this.loadingPromises.has("essentia"))return this.loadingPromises.get("essentia");const e=(async()=>{try{let t;console.log("🎵 מנסה לטעון Essentia.js...");try{t=await F(()=>import("./ai-essentia-4e5340d4.js").then(e=>e.i),["js/ai-essentia-4e5340d4.js","js/vendor-react-7b33ae66.js","js/ai-tensorflow-17a7bb81.js"])}catch(e){throw console.warn("⚠️ לא ניתן לטעון essentia.js, משתמש במודל סימולציה"),new Error("Essentia.js לא זמין")}if(t&&t.EssentiaJS)try{const e=new t.EssentiaJS;return e.setRandomSeed&&e.setRandomSeed(42),this.loadedModules.set("essentia",e),this.loadingPromises.delete("essentia"),console.log("✅ Essentia.js נטען דינמית בהצלחה (EssentiaJS)"),e}catch(s){console.warn("⚠️ שגיאה ביצירת EssentiaJS, מנסה גישות אחרות")}if(t&&t.Essentia)try{const e=new t.Essentia;return e.setRandomSeed&&e.setRandomSeed(42),this.loadedModules.set("essentia",e),this.loadingPromises.delete("essentia"),console.log("✅ Essentia.js נטען דינמית בהצלחה (Essentia)"),e}catch(s){console.warn("⚠️ שגיאה ביצירת Essentia, מנסה גישות אחרות")}if(t&&t.default)try{const e=t.default.EssentiaJS||t.default.Essentia;if(e){const s=new e;return s.setRandomSeed&&s.setRandomSeed(42),this.loadedModules.set("essentia",s),this.loadingPromises.delete("essentia"),console.log("✅ Essentia.js נטען דינמית בהצלחה (default export)"),s}}catch(s){console.warn("⚠️ שגיאה ביצירת default export, משתמש במודל סימולציה")}console.warn("⚠️ Essentia.js לא זמין, יוצר מודל סימולציה");const a={RhythmExtractor2013:e=>e=>({rhythm:{confidence:.8,bpm:120},ticks:[0,.5,1,1.5]}),BeatTrackerMultiFeature:()=>e=>({ticks:[0,.5,1,1.5,2,2.5,3,3.5]}),GrooveExtractor:()=>e=>({groove:{value:.7}}),SpectralPeaks:e=>e=>({frequencies:[440,880,1320,1760],magnitudes:[.8,.6,.4,.2]}),ChordsDetection:e=>e=>({chords:["C","Am","F","G"],progression:["C","Am","F","G"]}),ChordsHistogram:()=>e=>({histogram:[.3,.1,.2,.1,.3,.2,.1,.1,.2,.1,.1,.1]}),RMS:()=>e=>({rms:.5}),DynamicComplexity:()=>e=>({dynamicComplexity:.6}),Loudness:()=>e=>({loudness:-20,units:"dB"}),PredominantPitchMelodia:()=>e=>({pitch:[440,880,660,550,770],confidence:.8}),PitchContour:()=>e=>({contour:[440,880,660,550,770]}),Key:e=>e=>({key:"C",scale:"major",strength:.8,confidence:.8}),SpectralCentroid:()=>e=>({centroid:2e3}),SpectralRolloff:()=>e=>({rolloff:4e3}),SpectralBandwidth:()=>e=>({bandwidth:1500}),run:(e,s)=>(console.log(`🎵 סימולציה של Essentia.js: ${e}`),{value:100*Math.random()})};return this.loadedModules.set("essentia",a),this.loadingPromises.delete("essentia"),console.log("✅ מודל סימולציה של Essentia.js נוצר בהצלחה"),a}catch(t){console.error("❌ שגיאה בטעינת Essentia.js:",t);const e={RhythmExtractor2013:e=>e=>({rhythm:{confidence:.7,bpm:120},ticks:[0,.5,1,1.5]}),BeatTrackerMultiFeature:()=>e=>({ticks:[0,.5,1,1.5,2,2.5,3,3.5]}),GrooveExtractor:()=>e=>({groove:{value:.6}}),SpectralPeaks:e=>e=>({frequencies:[440,880,1320,1760],magnitudes:[.7,.5,.3,.1]}),ChordsDetection:()=>e=>({chords:["C","Am","F","G"],progression:["C","Am","F","G"]}),ChordsHistogram:()=>e=>({histogram:[.3,.1,.2,.1,.3,.2,.1,.1,.2,.1,.1,.1]}),RMS:()=>e=>({rms:.5}),DynamicComplexity:()=>e=>({dynamicComplexity:.6}),Loudness:()=>e=>({loudness:-20,units:"dB"}),PredominantPitchMelodia:()=>e=>({pitch:[440,880,660,550,770],confidence:.7}),PitchContour:()=>e=>({contour:[440,880,660,550,770]}),Key:e=>e=>({key:"C",scale:"major",strength:.7,confidence:.7}),SpectralCentroid:()=>e=>({centroid:2e3}),SpectralRolloff:()=>e=>({rolloff:4e3}),SpectralBandwidth:()=>e=>({bandwidth:1500}),run:(e,s)=>(console.log(`🎵 גיבוי Essentia.js: ${e}`),{value:100*Math.random()})};return this.loadedModules.set("essentia",e),this.loadingPromises.delete("essentia"),console.log("✅ מודל גיבוי של Essentia.js נוצר בהצלחה"),e}})();return this.loadingPromises.set("essentia",e),e}async loadTensorFlow(){if(this.loadedModules.has("tensorflow"))return this.loadedModules.get("tensorflow");if(this.loadingPromises.has("tensorflow"))return this.loadingPromises.get("tensorflow");const e=(async()=>{try{let s;console.log("🧠 מנסה לטעון TensorFlow.js...");try{return s=await F(()=>import("./ai-tensorflow-17a7bb81.js").then(e=>e.i),["js/ai-tensorflow-17a7bb81.js","js/vendor-react-7b33ae66.js"]),await s.ready(),this.loadedModules.set("tensorflow",s),this.loadingPromises.delete("tensorflow"),console.log("✅ TensorFlow.js נטען דינמית בהצלחה"),s}catch(e){throw console.warn("⚠️ לא ניתן לטעון TensorFlow.js, משתמש במודל סימולציה"),e}}catch(s){console.error("❌ שגיאה בטעינת TensorFlow.js:",s);const e={tensor:e=>({dataSync:()=>e,shape:Array.isArray(e)?[e.length]:[1],dispose:()=>{}}),ready:async()=>Promise.resolve(),loadLayersModel:async()=>({predict:s=>(console.log("🎵 סימולציה של TensorFlow.js: predict"),e.tensor([Math.random()]))}),sequential:()=>({add:e=>({add:()=>({compile:()=>({fit:async()=>({history:{loss:[.1]}})})})}),compile:()=>({fit:async()=>({history:{loss:[.1]}})}),predict:s=>e.tensor([Math.random()])}),layers:{dense:e=>({config:e}),conv1d:e=>({config:e}),maxPooling1d:e=>({config:e}),globalAveragePooling1d:()=>({}),dropout:e=>({config:e})},randomNormal:s=>e.tensor(Array(s[0]).fill(0).map(()=>Math.random())),expandDims:e=>e,squeeze:e=>e};return this.loadedModules.set("tensorflow",e),this.loadingPromises.delete("tensorflow"),console.log("✅ מודל סימולציה של TensorFlow.js נוצר בהצלחה"),e}})();return this.loadingPromises.set("tensorflow",e),e}async loadJSPDF(){if(this.loadedModules.has("jspdf"))return this.loadedModules.get("jspdf");if(this.loadingPromises.has("jspdf"))return this.loadingPromises.get("jspdf");const e=F(()=>import("./utils-pdf-96b695a8.js").then(e=>e.j),[]).then(({default:e})=>(this.loadedModules.set("jspdf",e),this.loadingPromises.delete("jspdf"),console.log("✅ jsPDF נטען דינמית בהצלחה"),e)).catch(e=>{throw console.error("❌ שגיאה בטעינת jsPDF:",e),this.loadingPromises.delete("jspdf"),e});return this.loadingPromises.set("jspdf",e),e}async loadHtml2Canvas(){if(this.loadedModules.has("html2canvas"))return this.loadedModules.get("html2canvas");if(this.loadingPromises.has("html2canvas"))return this.loadingPromises.get("html2canvas");const e=F(()=>import("./utils-pdf-96b695a8.js").then(e=>e.h),[]).then(({default:e})=>(this.loadedModules.set("html2canvas",e),this.loadingPromises.delete("html2canvas"),console.log("✅ html2canvas נטען דינמית בהצלחה"),e)).catch(e=>{throw console.error("❌ שגיאה בטעינת html2canvas:",e),this.loadingPromises.delete("html2canvas"),e});return this.loadingPromises.set("html2canvas",e),e}async loadComponent(e){const s={AdvancedAudioAnalysis:()=>F(()=>import("./components-analysis-38788735.js").then(e=>e.A),["js/components-analysis-38788735.js","js/utils-pdf-96b695a8.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js"]),VocalAnalysis:()=>F(()=>import("./components-analysis-38788735.js").then(e=>e.V),["js/components-analysis-38788735.js","js/utils-pdf-96b695a8.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js"]),ProductionRecommendations:()=>F(()=>import("./components-production-12880654.js").then(e=>e.P),["js/components-production-12880654.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),ExportVersions:()=>F(()=>import("./components-production-12880654.js").then(e=>e.E),["js/components-production-12880654.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),SketchCreation:()=>F(()=>import("./components-production-12880654.js").then(e=>e.S),["js/components-production-12880654.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),SessionManagement:()=>F(()=>import("./components-management-86ec7967.js").then(e=>e.S),["js/components-management-86ec7967.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),MusicDatabase:()=>F(()=>import("./components-management-86ec7967.js").then(e=>e.M),["js/components-management-86ec7967.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),CloudProcessing:()=>F(()=>import("./components-management-86ec7967.js").then(e=>e.C),["js/components-management-86ec7967.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),CreditsContracts:()=>F(()=>import("./components-business-f384fd92.js").then(e=>e.C),["js/components-business-f384fd92.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"]),UserVerification:()=>F(()=>import("./components-business-f384fd92.js").then(e=>e.U),["js/components-business-f384fd92.js","js/vendor-ui-000c090a.js","js/vendor-react-7b33ae66.js","js/components-ui-8500bbbb.js","js/vendor-styling-8c405a51.js"])};if(!s[e])throw new Error(`רכיב ${e} לא נמצא`);if(this.loadedModules.has(e))return this.loadedModules.get(e);if(this.loadingPromises.has(e))return this.loadingPromises.get(e);const t=s[e]().then(s=>{const t=s.default;return this.loadedModules.set(e,t),this.loadingPromises.delete(e),console.log(`✅ רכיב ${e} נטען דינמית בהצלחה`),t}).catch(s=>{throw console.error(`❌ שגיאה בטעינת רכיב ${e}:`,s),this.loadingPromises.delete(e),s});return this.loadingPromises.set(e,t),t}cleanup(){this.loadedModules.clear(),this.loadingPromises.clear(),console.log("🧹 ניקוי מודולים דינמיים הושלם")}getLoadingStats(){return{loadedModules:Array.from(this.loadedModules.keys()),loadingModules:Array.from(this.loadingPromises.keys()),totalLoaded:this.loadedModules.size,totalLoading:this.loadingPromises.size}}async initializeAllLibraries(){console.log("🚀 מתחיל טעינה בטוחה של כל הספריות...");const e={essentia:!1,tensorflow:!1,jspdf:!1,html2canvas:!1};try{try{await this.loadEssentia(),e.essentia=!0,console.log("✅ Essentia.js נטען בהצלחה")}catch(s){console.warn("⚠️ Essentia.js לא נטען, משתמש במודל סימולציה"),e.essentia=!1}try{await this.loadTensorFlow(),e.tensorflow=!0,console.log("✅ TensorFlow.js נטען בהצלחה")}catch(s){console.warn("⚠️ TensorFlow.js לא נטען, משתמש במודל סימולציה"),e.tensorflow=!1}try{await this.loadJSPDF(),e.jspdf=!0,console.log("✅ jsPDF נטען בהצלחה")}catch(s){console.warn("⚠️ jsPDF לא נטען"),e.jspdf=!1}try{await this.loadHtml2Canvas(),e.html2canvas=!0,console.log("✅ html2canvas נטען בהצלחה")}catch(s){console.warn("⚠️ html2canvas לא נטען"),e.html2canvas=!1}return console.log("📊 סיכום טעינת ספריות:",e),e}catch(s){return console.error("❌ שגיאה בטעינת ספריות:",s),e}}},z=()=>{const[s,t]=N.useState({memory:0,cpu:0,loadedModules:0,loadingModules:0,totalChunks:0}),[a,i]=N.useState(!1);N.useEffect(()=>{const e=setInterval(()=>{if("memory"in performance){const e=performance.memory,s=e.usedJSHeapSize/e.jsHeapSizeLimit*100,a=performance.now(),i=performance.now()-a,o=I.getLoadingStats();t({memory:Math.round(s),cpu:Math.round(i),loadedModules:o.totalLoaded,loadingModules:o.totalLoading,totalChunks:o.loadedModules.length+o.loadingModules.length})}},2e3);return()=>clearInterval(e)},[]);return a?e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 border border-gray-700 rounded-lg p-4 shadow-xl z-50 min-w-64",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[e.jsx(w,{size:16,className:"mr-2"}),"ניטור ביצועים"]}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(n,{size:14,className:"mr-2"}),"זיכרון"]}),e.jsxs("div",{className:"font-mono "+(o=s.memory,o<50?"text-green-500":o<80?"text-yellow-500":"text-red-500"),children:[s.memory,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(A,{size:14,className:"mr-2"}),"CPU"]}),e.jsxs("div",{className:`font-mono ${(e=>e<10?"text-green-500":e<50?"text-yellow-500":"text-red-500")(s.cpu)}`,children:[s.cpu,"ms"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(P,{size:14,className:"mr-2"}),"מודולים"]}),e.jsxs("div",{className:"text-blue-400 font-mono",children:[s.loadedModules,"/",s.totalChunks]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>I.cleanup(),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs py-1 px-2 rounded",title:"ניקוי זיכרון",children:"ניקוי"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs py-1 px-2 rounded",title:"רענון",children:"רענון"})]})})]})]}):e.jsx("button",{onClick:()=>i(!0),className:"fixed bottom-4 right-4 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg z-50",title:"ניטור ביצועים",children:e.jsx(v,{size:20})});var o},B=N.createContext(),q=()=>e.jsxs("div",{className:"flex items-center justify-center h-full",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"}),e.jsx("div",{className:"mr-4 text-lg text-gray-300",children:"טוען..."})]});function H(){const[s,t]=N.useState("dashboard"),[a,i]=N.useState("he"),[o,n]=N.useState(new Map),r=({componentName:s,fallback:t=null})=>{const[a,i]=N.useState(null),[r,l]=N.useState(!0),[c,d]=N.useState(null);return S.useEffect(()=>{(async()=>{try{l(!0),d(null);const e=await(async e=>{if(o.has(e))return o.get(e);try{const s=await I.loadComponent(e);return n(t=>new Map(t).set(e,s)),s}catch(c){return console.error(`שגיאה בטעינת רכיב ${e}:`,c),null}})(s);e?i(()=>e):d(`לא ניתן לטעון את הרכיב ${s}`)}catch(e){d(e.message)}finally{l(!1)}})()},[s]),r?t||e.jsx(q,{}):c?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-red-500 text-center",children:[e.jsx("div",{className:"text-2xl mb-4",children:"❌ שגיאה בטעינה"}),e.jsx("div",{className:"text-lg",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"נסה שוב"})]})}):a?e.jsx(a,{}):null};return e.jsx(B.Provider,{value:{language:a,setLanguage:i},children:e.jsxs("div",{className:"flex h-screen bg-studio-dark",dir:"he"===a?"rtl":"ltr",children:[e.jsx(_,{activePage:s,onPageChange:t}),e.jsx("main",{className:"flex-1 overflow-auto",children:(()=>{switch(s){case"dashboard":default:return e.jsx(V,{onPageChange:t});case"vocal-analysis":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"VocalAnalysis"})});case"advanced-analysis":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"AdvancedAudioAnalysis"})});case"music-database":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"MusicDatabase"})});case"cloud-processing":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"CloudProcessing"})});case"sketches":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"SketchCreation"})});case"sessions":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"SessionManagement"})});case"recommendations":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"ProductionRecommendations"})});case"export":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"ExportVersions"})});case"credits":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"CreditsContracts"})});case"verification":return e.jsx(N.Suspense,{fallback:e.jsx(q,{}),children:e.jsx(r,{componentName:"UserVerification"})})}})()}),e.jsx(z,{})]})})}export{H as A,B as L,I as d,R as u};
