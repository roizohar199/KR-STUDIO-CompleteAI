import{V as s,v as e,E as t,_ as o}from"./index-3111b9b5.js";import{LucideZap as a,Database as n,Cpu as r,HardDrive as l,Activity as i}from"./icons-3130b023-5920a354.js";var d=Object.defineProperty,c=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,m=(s,e,t)=>e in s?d(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,f=(s,e)=>{for(var t in e||(e={}))h.call(e,t)&&m(s,t,e[t]);if(c)for(var t of c(e))u.call(e,t)&&m(s,t,e[t]);return s},j=(s,e,t)=>new Promise((o,a)=>{var n=s=>{try{l(t.next(s))}catch(e){a(e)}},r=s=>{try{l(t.throw(s))}catch(e){a(e)}},l=s=>s.done?o(s.value):Promise.resolve(s.value).then(n,r);l((t=t.apply(s,e)).next())});const g=new class{constructor(){this.loadedModules=new Map,this.loadingPromises=new Map}loadTensorFlow(){return j(this,null,function*(){if(this.loadedModules.has("tensorflow"))return this.loadedModules.get("tensorflow");if(this.loadingPromises.has("tensorflow"))return this.loadingPromises.get("tensorflow");const s=(()=>j(this,null,function*(){try{console.log("🧠 מנסה לטעון TensorFlow.js...");const s=yield t(()=>o(()=>import("./index-295bde5e-7ebe3a77.js"),["assets/index-295bde5e-7ebe3a77.js","assets/register_all_kernels-6e0b897e-6d5d824a.js","assets/index-3111b9b5.js","assets/index-baf772f0.css"]),["assets/index-295bde5e.js","assets/register_all_kernels-6e0b897e.js","assets/vendor-ed70b211.js"]);return yield s.setBackend("webgl"),yield s.ready(),console.log("✅ TensorFlow.js נטען בהצלחה"),this.loadedModules.set("tensorflow",s),this.loadingPromises.delete("tensorflow"),s}catch(s){console.warn("⚠️ שגיאה בטעינת TensorFlow.js, יוצר מודל סימולציה:",s);const e={sequential:()=>({add:function(s){return this.layers=this.layers||[],this.layers.push(s),this},compile:function(s){return this.compiled=!0,this},predict:function(s){return j(this,null,function*(){return{array:()=>j(this,null,function*(){return[[Math.random(),Math.random(),Math.random()]]})}})},fit:function(s,e,t){return j(this,null,function*(){return{history:{loss:[.5,.3,.2,.1]}}})}}),layers:{dense:s=>f({type:"dense"},s),dropout:s=>f({type:"dropout"},s),conv1d:s=>f({type:"conv1d"},s),maxPooling1d:s=>f({type:"maxPooling1d"},s),globalAveragePooling1d:()=>({type:"globalAveragePooling1d"})},train:{adam:s=>({type:"adam",learningRate:s})},tensor:s=>({array:()=>j(this,null,function*(){return s}),reshape:function(s){return this},expandDims:function(s){return this}}),tensor2d:s=>({array:()=>j(this,null,function*(){return s}),reshape:function(s){return this}}),setBackend:s=>j(this,null,function*(){return console.log(`Backend set to: ${s}`)}),ready:()=>j(this,null,function*(){return console.log("TensorFlow ready")}),dispose:()=>console.log("TensorFlow disposed")};return this.loadedModules.set("tensorflow",e),this.loadingPromises.delete("tensorflow"),console.log("✅ מודל סימולציה של TensorFlow.js נוצר בהצלחה"),e}}))();return this.loadingPromises.set("tensorflow",s),s})}loadJSPDF(){return j(this,null,function*(){if(this.loadedModules.has("jspdf"))return this.loadedModules.get("jspdf");if(this.loadingPromises.has("jspdf"))return this.loadingPromises.get("jspdf");const s=t(()=>o(()=>import("./jspdf.es.min-e013da25-fa8e7c7c.js"),["assets/jspdf.es.min-e013da25-fa8e7c7c.js","assets/index-3111b9b5.js","assets/index-baf772f0.css"]).then(s=>s.j),["assets/jspdf.es.min-e013da25.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css"]).then(({default:s})=>(this.loadedModules.set("jspdf",s),this.loadingPromises.delete("jspdf"),console.log("✅ jsPDF נטען דינמית בהצלחה"),s)).catch(s=>{throw console.error("❌ שגיאה בטעינת jsPDF:",s),this.loadingPromises.delete("jspdf"),s});return this.loadingPromises.set("jspdf",s),s})}loadHtml2Canvas(){return j(this,null,function*(){if(this.loadedModules.has("html2canvas"))return this.loadedModules.get("html2canvas");if(this.loadingPromises.has("html2canvas"))return this.loadingPromises.get("html2canvas");const s=t(()=>o(()=>import("./html2canvas.esm-4387b682-6d7bfb96.js"),[]),[]).then(({default:s})=>(this.loadedModules.set("html2canvas",s),this.loadingPromises.delete("html2canvas"),console.log("✅ html2canvas נטען דינמית בהצלחה"),s)).catch(s=>{throw console.error("❌ שגיאה בטעינת html2canvas:",s),this.loadingPromises.delete("html2canvas"),s});return this.loadingPromises.set("html2canvas",s),s})}loadComponent(s){return j(this,null,function*(){const e={ProductionRecommendations:()=>t(()=>o(()=>import("./ProductionRecommendations-e72b0ed3-85e0691d.js"),["assets/ProductionRecommendations-e72b0ed3-85e0691d.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/card-5a73608a-e8b213cc.js","assets/button-04768ca5-91399532.js","assets/register_all_kernels-6e0b897e-6d5d824a.js","assets/icons-3130b023-5920a354.js"]),["assets/ProductionRecommendations-e72b0ed3.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/card-5a73608a.js","assets/button-04768ca5.js","assets/register_all_kernels-6e0b897e.js","assets/icons-3130b023.js"]),ExportVersions:()=>t(()=>o(()=>import("./ExportVersions-bf7c06e5-272042ff.js"),["assets/ExportVersions-bf7c06e5-272042ff.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/card-5a73608a-e8b213cc.js","assets/icons-3130b023-5920a354.js"]),["assets/ExportVersions-bf7c06e5.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/card-5a73608a.js","assets/icons-3130b023.js"]),SketchCreation:()=>t(()=>o(()=>import("./SketchCreation-9d0ac412-a77faf39.js"),["assets/SketchCreation-9d0ac412-a77faf39.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/button-04768ca5-91399532.js","assets/card-5a73608a-e8b213cc.js","assets/select-bbbbcd99-c7c00c23.js","assets/icons-3130b023-5920a354.js","assets/translations-0a067c83-94297f5b.js"]),["assets/SketchCreation-9d0ac412.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/button-04768ca5.js","assets/card-5a73608a.js","assets/select-bbbbcd99.js","assets/icons-3130b023.js","assets/translations-0a067c83.js"]),SessionManagement:()=>t(()=>o(()=>import("./SessionManagement-3331742c-ea44b065.js"),["assets/SessionManagement-3331742c-ea44b065.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/card-5a73608a-e8b213cc.js","assets/translations-0a067c83-94297f5b.js","assets/icons-3130b023-5920a354.js"]),["assets/SessionManagement-3331742c.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/card-5a73608a.js","assets/translations-0a067c83.js","assets/icons-3130b023.js"]),CreditsContracts:()=>t(()=>o(()=>import("./CreditsContracts-f6ee2d31-7c0e5fd1.js"),["assets/CreditsContracts-f6ee2d31-7c0e5fd1.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/card-5a73608a-e8b213cc.js","assets/translations-0a067c83-94297f5b.js","assets/icons-3130b023-5920a354.js"]),["assets/CreditsContracts-f6ee2d31.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/card-5a73608a.js","assets/translations-0a067c83.js","assets/icons-3130b023.js"]),UserVerification:()=>t(()=>o(()=>import("./UserVerification-c7b3dc8d-1e4dfd92.js"),["assets/UserVerification-c7b3dc8d-1e4dfd92.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/button-04768ca5-91399532.js","assets/card-5a73608a-e8b213cc.js","assets/select-bbbbcd99-c7c00c23.js","assets/icons-3130b023-5920a354.js","assets/translations-0a067c83-94297f5b.js"]),["assets/UserVerification-c7b3dc8d.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/button-04768ca5.js","assets/card-5a73608a.js","assets/select-bbbbcd99.js","assets/icons-3130b023.js","assets/translations-0a067c83.js"]),AudioSeparation:()=>t(()=>o(()=>import("./AudioSeparation-8d7d6840-399e3c47.js"),["assets/AudioSeparation-8d7d6840-399e3c47.js","assets/index-3111b9b5.js","assets/index-baf772f0.css","assets/icons-3130b023-5920a354.js"]),["assets/AudioSeparation-8d7d6840.js","assets/index-2831a802.js","assets/vendor-ed70b211.js","assets/index-baf772f0.css","assets/icons-3130b023.js"])};if(!e[s])throw new Error(`רכיב ${s} לא נמצא`);if(this.loadedModules.has(s))return console.log(`📦 רכיב ${s} כבר נטען, משתמש בגרסה קיימת`),this.loadedModules.get(s);if(this.loadingPromises.has(s))return console.log(`⏳ רכיב ${s} כבר בטעינה, ממתין...`),this.loadingPromises.get(s);console.log(`🚀 מתחיל טעינת רכיב: ${s}`);const a=e[s]().then(e=>{const t=e.default;if(!t)throw new Error(`רכיב ${s} לא יוצא נכון`);return this.loadedModules.set(s,t),this.loadingPromises.delete(s),console.log(`✅ רכיב ${s} נטען דינמית בהצלחה`),t}).catch(e=>{throw console.error(`❌ שגיאה בטעינת רכיב ${s}:`,e),this.loadingPromises.delete(s),e});return this.loadingPromises.set(s,a),a})}cleanup(){this.loadedModules.clear(),this.loadingPromises.clear(),console.log("🧹 ניקוי מודולים דינמיים הושלם")}getLoadingStats(){return{loadedModules:Array.from(this.loadedModules.keys()),loadingModules:Array.from(this.loadingPromises.keys()),totalLoaded:this.loadedModules.size,totalLoading:this.loadingPromises.size}}initializeAllLibraries(){return j(this,null,function*(){console.log("🚀 מתחיל טעינה בטוחה של כל הספריות...");const s={tensorflow:!1,jspdf:!1,html2canvas:!1};try{try{yield this.loadTensorFlow(),s.tensorflow=!0,console.log("✅ TensorFlow.js נטען בהצלחה")}catch(e){console.warn("⚠️ TensorFlow.js לא נטען, משתמש במודל סימולציה"),s.tensorflow=!1}try{yield this.loadJSPDF(),s.jspdf=!0,console.log("✅ jsPDF נטען בהצלחה")}catch(e){console.warn("⚠️ jsPDF לא נטען"),s.jspdf=!1}try{yield this.loadHtml2Canvas(),s.html2canvas=!0,console.log("✅ html2canvas נטען בהצלחה")}catch(e){console.warn("⚠️ html2canvas לא נטען"),s.html2canvas=!1}return console.log("📊 סיכום טעינת ספריות:",s),s}catch(e){return console.error("❌ שגיאה בטעינת ספריות:",e),s}})}},b=()=>{const[t,o]=s.useState({memory:0,cpu:0,loadedModules:0,loadingModules:0,totalChunks:0}),[d,c]=s.useState(!1);return s.useEffect(()=>{const s=setInterval(()=>{if("memory"in performance){const s=performance.memory,e=s.usedJSHeapSize/s.jsHeapSizeLimit*100,t=performance.now(),a=performance.now()-t,n=g.getLoadingStats();o({memory:Math.round(e),cpu:Math.round(a),loadedModules:n.totalLoaded,loadingModules:n.totalLoading,totalChunks:n.loadedModules.length+n.loadingModules.length})}},2e3);return()=>clearInterval(s)},[]),d?e.jsxs("div",{className:"fixed bottom-4 right-4 bg-gray-900 border border-gray-700 rounded-lg p-4 shadow-xl z-50 min-w-64",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[e.jsx(a,{size:16,className:"mr-2"}),"ניטור ביצועים"]}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white",children:"✕"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(n,{size:14,className:"mr-2"}),"זיכרון"]}),e.jsxs("div",{className:"font-mono "+(u=t.memory,u<50?"text-green-500":u<80?"text-yellow-500":"text-red-500"),children:[t.memory,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(r,{size:14,className:"mr-2"}),"CPU"]}),e.jsxs("div",{className:"font-mono "+(h=t.cpu,h<10?"text-green-500":h<50?"text-yellow-500":"text-red-500"),children:[t.cpu,"ms"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-gray-300",children:[e.jsx(l,{size:14,className:"mr-2"}),"מודולים"]}),e.jsxs("div",{className:"text-blue-400 font-mono",children:[t.loadedModules,"/",t.totalChunks]})]}),e.jsx("div",{className:"pt-2 border-t border-gray-700",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>g.cleanup(),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs py-1 px-2 rounded",title:"ניקוי זיכרון",children:"ניקוי"}),e.jsx("button",{onClick:()=>{g.cleanup(),setTimeout(()=>{window.location.reload()},100)},className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs py-1 px-2 rounded",title:"רענון",children:"רענון"})]})})]})]}):e.jsx("button",{onClick:()=>c(!0),className:"fixed bottom-4 right-4 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full shadow-lg z-50",title:"ניטור ביצועים",children:e.jsx(i,{size:20})});var h,u};export{b as default};
//# sourceMappingURL=PerformanceMonitor-86a8acb4-61059554.js.map
